const products = [
  {
    id: 1,
    img: "https://via.placeholder.com/200x200.png?text=Product+1",
    title: "1ireless Headphones",
    des: "High-quality sound with noise cancellation.",
  },
  {
    id: 2,
    img: "https://via.placeholder.com/200x200.png?text=Product+2",
    title: "2mart Watch",
    des: "Track fitness, receive notifications and more.",
  },
  {
    id: 3,
    img: "https://via.placeholder.com/200x200.png?text=Product+3",
    title: "3aming Mouse",
    des: "Precision and comfort for intense gaming sessions.",
  },
  {
    id: 4,
    img: "https://via.placeholder.com/200x200.png?text=Product+4",
    title: "4luetooth Speaker",
    des: "Portable and powerful sound for any occasion.",
  },
  {
    id: 5,
    img: "https://via.placeholder.com/200x200.png?text=Product+5",
    title: "5SLR Camera",
    des: "Capture life’s moments in stunning detail.",
  },
  {
    id: 1,
    img: "https://via.placeholder.com/200x200.png?text=Product+1",
    title: "6ireless Headphones",
    des: "High-quality sound with noise cancellation.",
  },
  {
    id: 2,
    img: "https://via.placeholder.com/200x200.png?text=Product+2",
    title: "7mart Watch",
    des: "Track fitness, receive notifications and more.",
  },
  {
    id: 3,
    img: "https://via.placeholder.com/200x200.png?text=Product+3",
    title: "8aming Mouse",
    des: "Precision and comfort for intense gaming sessions.",
  },
  {
    id: 4,
    img: "https://via.placeholder.com/200x200.png?text=Product+4",
    title: "9luetooth Speaker",
    des: "Portable and powerful sound for any occasion.",
  },
  {
    id: 5,
    img: "https://via.placeholder.com/200x200.png?text=Product+5",
    title: "10SLR Camera",
    des: "Capture life’s moments in stunning detail.",
  },
  {
    id: 1,
    img: "https://via.placeholder.com/200x200.png?text=Product+1",
    title: "11ireless Headphones",
    des: "High-quality sound with noise cancellation.",
  },
  {
    id: 2,
    img: "https://via.placeholder.com/200x200.png?text=Product+2",
    title: "12mart Watch",
    des: "Track fitness, receive notifications and more.",
  },
  {
    id: 3,
    img: "https://via.placeholder.com/200x200.png?text=Product+3",
    title: "13aming Mouse",
    des: "Precision and comfort for intense gaming sessions.",
  },
  {
    id: 4,
    img: "https://via.placeholder.com/200x200.png?text=Product+4",
    title: "14luetooth Speaker",
    des: "Portable and powerful sound for any occasion.",
  },
  {
    id: 5,
    img: "https://via.placeholder.com/200x200.png?text=Product+5",
    title: "15SLR Camera",
    des: "Capture life’s moments in stunning detail.",
  },
  {
    id: 1,
    img: "https://via.placeholder.com/200x200.png?text=Product+1",
    title: "16ireless Headphones",
    des: "High-quality sound with noise cancellation.",
  },
  {
    id: 2,
    img: "https://via.placeholder.com/200x200.png?text=Product+2",
    title: "17mart Watch",
    des: "Track fitness, receive notifications and more.",
  },
  {
    id: 3,
    img: "https://via.placeholder.com/200x200.png?text=Product+3",
    title: "18aming Mouse",
    des: "Precision and comfort for intense gaming sessions.",
  },
  {
    id: 4,
    img: "https://via.placeholder.com/200x200.png?text=Product+4",
    title: "19luetooth Speaker",
    des: "Portable and powerful sound for any occasion.",
  },
  {
    id: 5,
    img: "https://via.placeholder.com/200x200.png?text=Product+5",
    title: "20SLR Camera",
    des: "Capture life’s moments in stunning detail.",
  },
  {
    id: 1,
    img: "https://via.placeholder.com/200x200.png?text=Product+1",
    title: "21ireless Headphones",
    des: "High-quality sound with noise cancellation.",
  },
  {
    id: 2,
    img: "https://via.placeholder.com/200x200.png?text=Product+2",
    title: "22mart Watch",
    des: "Track fitness, receive notifications and more.",
  },
  {
    id: 3,
    img: "https://via.placeholder.com/200x200.png?text=Product+3",
    title: "23aming Mouse",
    des: "Precision and comfort for intense gaming sessions.",
  },
  {
    id: 4,
    img: "https://via.placeholder.com/200x200.png?text=Product+4",
    title: "24luetooth Speaker",
    des: "Portable and powerful sound for any occasion.",
  },
  {
    id: 5,
    img: "https://via.placeholder.com/200x200.png?text=Product+5",
    title: "25SLR Camera",
    des: "Capture life’s moments in stunning detail.",
  },
  {
    id: 1,
    img: "https://via.placeholder.com/200x200.png?text=Product+1",
    title: "26ireless Headphones",
    des: "High-quality sound with noise cancellation.",
  },
  {
    id: 2,
    img: "https://via.placeholder.com/200x200.png?text=Product+2",
    title: "27mart Watch",
    des: "Track fitness, receive notifications and more.",
  },
  {
    id: 3,
    img: "https://via.placeholder.com/200x200.png?text=Product+3",
    title: "28aming Mouse",
    des: "Precision and comfort for intense gaming sessions.",
  },
  {
    id: 4,
    img: "https://via.placeholder.com/200x200.png?text=Product+4",
    title: "29luetooth Speaker",
    des: "Portable and powerful sound for any occasion.",
  },
  {
    id: 5,
    img: "https://via.placeholder.com/200x200.png?text=Product+5",
    title: "30SLR Camera",
    des: "Capture life’s moments in stunning detail.",
  },
  {
    id: 1,
    img: "https://via.placeholder.com/200x200.png?text=Product+1",
    title: "31ireless Headphones",
    des: "High-quality sound with noise cancellation.",
  },
  {
    id: 2,
    img: "https://via.placeholder.com/200x200.png?text=Product+2",
    title: "32mart Watch",
    des: "Track fitness, receive notifications and more.",
  },
  {
    id: 3,
    img: "https://via.placeholder.com/200x200.png?text=Product+3",
    title: "33aming Mouse",
    des: "Precision and comfort for intense gaming sessions.",
  },
  {
    id: 4,
    img: "https://via.placeholder.com/200x200.png?text=Product+4",
    title: "34luetooth Speaker",
    des: "Portable and powerful sound for any occasion.",
  },
  {
    id: 5,
    img: "https://via.placeholder.com/200x200.png?text=Product+5",
    title: "35SLR Camera",
    des: "Capture life’s moments in stunning detail.",
  },
  {
    id: 1,
    img: "https://via.placeholder.com/200x200.png?text=Product+1",
    title: "36ireless Headphones",
    des: "High-quality sound with noise cancellation.",
  },
];

const productGrid = document.querySelector(".product-grid");
const paginationDiv = document.querySelector(".pagination");
const numberButtons = document.querySelectorAll(".counting");
const prev = document.querySelector(".prev");
const next = document.querySelector(".next");

// let number = prompt("select a number between 1 and 36", 8);
// if(number === null){
//   number = 8;
// }

let number = 8;

let spansCount = Math.ceil(products.length / number);

for (let i = 1; i <= spansCount; i++) {
  // generating the page count spans according to the number of the cards
  const paginationSpan = document.createElement("span");
  if (i === 1) {
    paginationSpan.classList.add("active");
  }
  paginationSpan.classList.add("page-link", "counting");
  paginationSpan.textContent = i;
  paginationDiv.append(paginationSpan);
  // generated
}

// applying the active class to the clicked element and removing from the other elements
const paginationSpans = document.querySelectorAll(".counting");

paginationSpans.forEach((span) => {
  span.addEventListener("click", () => {
    paginationSpans.forEach((n) => n.classList.remove("active"));
    span.classList.add("active");
  });
});

// default cards when page loads

for (let i = 0; i < products.length; i++) {
  const product = products[i];
  if (i < number) {
    productGrid.innerHTML += `
    <div class="product-card">
    <img src="${product.img}" alt="Product Image">
    <h3>${product.title}</h3>
    <p>${product.des}</p>
    </div>
    `;
  }
}

// generating the cards per page
paginationSpans.forEach((span) => {
  span.addEventListener("click", (e) => {
    productGrid.innerHTML = "";
    let start = parseInt(e.target.textContent);
    let page = (start - 1) * number;
    let end = page + number;
    let paginatedProducts = products.slice(page, end);

    paginatedProducts.forEach((product) => {
      productGrid.innerHTML += `
        <div class="product-card">
          <img src="${product.img}" alt="Product Image">
          <h3>${product.title}</h3>
          <p>${product.des}</p>
        </div>
      `;
    });
  });
});

// making previous and next buttons functional
prev.addEventListener("click", (e) => {
  const activeSpan = document.querySelector(".pagination span.active");
  if (activeSpan && activeSpan.previousElementSibling) {
    activeSpan.classList.remove("active");
    activeSpan.previousElementSibling.classList.add("active");
    productGrid.innerHTML = "";
    let start = parseInt(activeSpan.previousElementSibling.textContent);
    let page = (start - 1) * number;
    let end = page + number;
    let paginatedProducts = products.slice(page, end);

    paginatedProducts.forEach((product) => {
      productGrid.innerHTML += `
        <div class="product-card">
          <img src="${product.img}" alt="Product Image">
          <h3>${product.title}</h3>
          <p>${product.des}</p>
        </div>
      `;
    });
  }
});

next.addEventListener("click", (e) => {
  const activeSpan = document.querySelector(".pagination span.active");
  if (activeSpan && activeSpan.nextElementSibling) {
    activeSpan.classList.remove("active");
    activeSpan.nextElementSibling.classList.add("active");
    productGrid.innerHTML = "";
    let start = parseInt(activeSpan.nextElementSibling.textContent);
    let page = (start - 1) * number;
    let end = page + number;
    let paginatedProducts = products.slice(page, end);

    paginatedProducts.forEach((product) => {
      productGrid.innerHTML += `
        <div class="product-card">
          <img src="${product.img}" alt="Product Image">  
          <h3>${product.title}</h3>
          <p>${product.des}</p>
        </div>
      `;
    });
  }
});

